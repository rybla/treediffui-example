<!DOCTYPE html>
<html lang="en">

<body style="padding: 0.5em; display: flex; flex-direction: column; gap: 0.5em">
    <div style="display: flex; flex-direction: column; gap: 0.5em">
        <div style="font-weight: bold;">treediffui</div>
        <div>These examples are meant to be run <i>independently</i>, execpt for the "cut B1 ... then paste onto B3"
            pair of examples. Reset the state by refreshing the page.</div>
        <div>
            See <code><a href="https://github.com/rybla/treediffui-example/blob/main/src/Main.purs">Main.purs</a></code>
            for reference of how the tree diffs are encoded for each example (<code>examples</code>), how a tree diff is
            applied to a tree (<code>applyTreeDiffToTree</code>) and how a tree diff is applied to the DOM
            (<code>applyTreeDiffToDom</code>).
        </div>
        <div>
            A <code>TreeDiff</code> is defined inductively as follows:
            <code><pre>data TreeDiff
    = InjectDiff (Array TreeDiff)
    | PlusDiff Tooth TreeDiff
    | MinusDiff Int TreeDiff
    | ReplaceDiff Tree
    | IdDiff
    | CutDiff TreeLabel
    | PasteDiff</pre></code>
        </div>
        <div>
            Note that <code>CutDiff</code> and <code>PasteDiff</code> use a reference to the clipboard when being applied. The other diff constructors are interpreted purely.
        </div>
        <div>Examples:</div>
        <div id="examples" style="display: flex; flex-direction: row; gap: 0.5em; flex-wrap: wrap;"></div>
    </div>
    <hr />
    <div>Tree as String</div>
    <div id="tree_display" style="padding: 0.5em; box-shadow: 0 0 1em 0 rgba(0, 0, 0, 0.5);"></div>
    <div>Tree as HTML</div>
    <div id="container" style="padding: 0.5em; box-shadow: 0 0 1em 0 rgba(0, 0, 0, 0.5);"></div>
</body>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>treediffui</title>
    <style>
        .controls {
            padding: 0.5em;
            border-bottom: 1px solid black;
            display: flex;
            flex-direction: row;
            gap: 0.5em;
        }

        .node {
            padding: 0.5em;
            /* border: 1px solid black; */
            box-shadow: 0 0 0.5em 0 rgba(0, 0, 0, 0.7);
            border-radius: 1em;
            display: inline-flex;
            flex-direction: row;
            flex-wrap: wrap;
            gap: 0.5em;
        }

        .node>.label {
            color: blue;
        }
    </style>
    <script type="module">
        import * as Main from './main.js'
        Main.main()
    </script>
</head>

</html>